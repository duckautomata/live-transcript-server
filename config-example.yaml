# An example config file.
# Please do not edit this and instead make a copy and use that.
# By default, it will grab config.yaml
####################################################################

# Use command to generate creds
# openssl rand -base64 32
credentials:
  # credentials used to restrict the activate/deactive/update/upload endpoints
  apiKey: ""

# Database configuration used to tune performance
# See https://www.sqlite.org/pragma.html for more information
database:
  journal_mode: "WAL"
  busy_timeout_ms: 5000
  synchronous: "NORMAL"
  cache_size_kb: 200000 # 200MB
  temp_store: "MEMORY"
  mmap_size_bytes: 500000000 # 500MB

storage:
  type: "local" # "local" or "r2"
  r2:
    accountId: ""
    accessKeyId: ""
    secretAccessKey: ""
    bucket: ""
    publicUrl: ""

channels:
  # List of keys the server will work with.
  # numPastStreams is the number of past streams to keep.
  # If numPastStreams is 0, it will keep only the current stream.
  # Note: if using R2, numPastStreams is ignored and the bucket's lifecycle policy is used instead.
  - name: key1
    numPastStreams: 5
  - name: key2
    numPastStreams: 0
